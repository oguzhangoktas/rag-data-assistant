# =============================================================================
# LLM Configuration
# Author: Oguzhan Goktas (oguzhangoktas22@gmail.com)
# =============================================================================

providers:
  openai:
    enabled: true
    priority: 1
    models:
      default: "gpt-4-turbo-preview"
      fast: "gpt-3.5-turbo"
      embedding: "text-embedding-3-small"
    settings:
      temperature: 0.1
      max_tokens: 2048
      top_p: 0.95
      frequency_penalty: 0.0
      presence_penalty: 0.0
      timeout_seconds: 30
    rate_limits:
      requests_per_minute: 60
      tokens_per_minute: 90000
    retry:
      max_attempts: 3
      initial_delay_seconds: 1
      max_delay_seconds: 10
      exponential_base: 2

  anthropic:
    enabled: true
    priority: 2
    models:
      default: "claude-3-sonnet-20240229"
      fast: "claude-3-haiku-20240307"
    settings:
      temperature: 0.1
      max_tokens: 2048
      timeout_seconds: 30
    rate_limits:
      requests_per_minute: 50
      tokens_per_minute: 80000
    retry:
      max_attempts: 3
      initial_delay_seconds: 1
      max_delay_seconds: 10
      exponential_base: 2

fallback:
  enabled: true
  strategy: "sequential"
  max_fallback_attempts: 2

cost_tracking:
  enabled: true
  currency: "USD"
  prices:
    openai:
      gpt-4-turbo-preview:
        input_per_1k: 0.01
        output_per_1k: 0.03
      gpt-3.5-turbo:
        input_per_1k: 0.0005
        output_per_1k: 0.0015
      text-embedding-3-small:
        input_per_1k: 0.00002
    anthropic:
      claude-3-sonnet-20240229:
        input_per_1k: 0.003
        output_per_1k: 0.015
      claude-3-haiku-20240307:
        input_per_1k: 0.00025
        output_per_1k: 0.00125

streaming:
  enabled: true
  chunk_size: 50

validation:
  max_input_tokens: 8000
  max_output_tokens: 4000
  content_filter:
    enabled: true
    block_sql_injection: true
    sanitize_output: true

monitoring:
  log_requests: true
  log_responses: false
  track_latency: true
  track_tokens: true
  track_cost: true
